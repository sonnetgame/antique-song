<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Figure in Red</title> 
    <link rel="stylesheet" href="../../styles/journalforeststyles.css"> 

    <link rel="icon" type="image/x-icon" href="../../img/SonnetI-TatteredJournal-Favicon-v3.png">
</head>



<body class="ending" id="fadeBG">
    <div class="wrapper-scale smalltext" id="fade">
        <div class="main-content fade-in">
            <p class="message">
                
                <div class="centered-img">

                    <p>A figure in red </p>
                    <p>clad in well-worn finery,</p>
                    <p><a href="#" class="smooth-link" data-href="http://antiquesong.com/tatteredjournal/afigureinred/thehiddenmelody">humming a haunting melody</a>.</p>

                </div>

                <br><br><br>

        </div>
    </div>



    <script>


        // Fade-out handlers

        const smoothLinks = document.querySelectorAll('.smooth-link');

        smoothLinks.forEach(link => {
            link.addEventListener('click', function (event) {
                event.preventDefault();
                
                const destinationUrl = this.getAttribute('data-href');
                const bgForFade = document.getElementById('fadeBG');

                if(bgForFade)
                {
                    bgForFade.classList.add('fade-out-RedToPW-BG');
                }

                setTimeout(() => {
                    window.location.href = destinationUrl; 
                }, 500); 
            });

            link.addEventListener('click', function (event) {
                event.preventDefault();
                
                const destinationUrl = this.getAttribute('data-href');
                const wrapperForFade = document.getElementById('fade');

                if(wrapperForFade)
                {
                    wrapperForFade.classList.add('fade-out');
                }

                setTimeout(() => {
                    window.location.href = destinationUrl; 
                }, 500); 
            });
        });
    

        // Force refresh on back button

        window.addEventListener("pageshow", function(event) {
            var historyTraversal = event.persisted || (typeof window.performance != "undefined" && window.performance.navigation.type === 2);
            if (historyTraversal) {
                window.location.reload();
            }
        });
    
    </script>

</body>
</html>
